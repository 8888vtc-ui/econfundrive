---
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ECOFUNDRIVE V2.0 - HEADER COMPONENT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

interface Props {
  lang?: string;
}

const { lang = 'fr' } = Astro.props;

const navLinks = lang === 'fr' ? [
  { label: 'Accueil', href: '/fr' },
  { label: 'Nos Services', href: '/fr/services' },
  { label: 'Flotte Tesla', href: '/fr/flotte-tesla' },
  { label: 'Tarifs', href: '/fr/tarifs' },
  { label: 'Contact', href: '/fr/contact' }
] : [
  { label: 'Home', href: '/en' },
  { label: 'Services', href: '/en/services' },
  { label: 'Tesla Fleet', href: '/en/tesla-fleet' },
  { label: 'Rates', href: '/en/rates' },
  { label: 'Contact', href: '/en/contact' }
];
---

<header id="main-header">
  <div class="header-container">
    <!-- Logo -->
    <a href={`/${lang}`} class="logo">
      <img
        src="/images/logo-ecofundrive.svg"
        alt="ECOFUNDRIVE - VTC Tesla Premium CÃ´te d'Azur"
        width="180"
        height="50"
        loading="eager"
      />
    </a>

    <!-- Desktop Navigation -->
    <nav class="desktop-nav" aria-label="Navigation principale">
      {navLinks.map(link => (
        <a href={link.href}>{link.label}</a>
      ))}

      <!-- Language Switcher -->
      <div class="lang-switcher">
        <a
          href={lang === 'fr' ? `/en${Astro.url.pathname.replace('/fr', '')}` : `/fr${Astro.url.pathname.replace('/en', '')}`}
          class="lang-link"
        >
          {lang === 'fr' ? 'ğŸ‡¬ğŸ‡§ EN' : 'ğŸ‡«ğŸ‡· FR'}
        </a>
      </div>
    </nav>

    <!-- Mobile Burger Menu -->
    <button class="burger-menu" aria-label="Menu mobile">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>

  <!-- Mobile Navigation -->
  <div class="mobile-nav" id="mobile-nav">
    <div class="mobile-nav-header">
      <img src="/images/logo-ecofundrive.svg" alt="ECOFUNDRIVE" width="150" height="40" />
      <button class="close-menu" aria-label="Fermer le menu">Ã—</button>
    </div>

    <nav class="mobile-nav-links">
      {navLinks.map(link => (
        <a href={link.href}>{link.label}</a>
      ))}
      <a href={lang === 'fr' ? `/en${Astro.url.pathname.replace('/fr', '')}` : `/fr${Astro.url.pathname.replace('/en', '')}`}>
        {lang === 'fr' ? 'ğŸ‡¬ğŸ‡§ English' : 'ğŸ‡«ğŸ‡· FranÃ§ais'}
      </a>
    </nav>
  </div>

  <!-- Mobile Backdrop -->
  <div class="mobile-nav-backdrop" id="mobile-backdrop"></div>
</header>

<style>
  .lang-switcher {
    margin-left: 1rem;
  }

  .lang-link {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.5rem 1rem;
    background: var(--accent);
    color: white;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: 600;
    transition: all var(--transition-base);
  }

  .lang-link:hover {
    background: var(--accent-dark);
    transform: translateY(-2px);
    text-decoration: none;
  }

  @media (max-width: 768px) {
    .lang-switcher {
      display: none;
    }
  }
</style>
