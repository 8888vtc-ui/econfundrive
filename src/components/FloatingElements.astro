---
// FloatingElements - Wrapper fixe pour WhatsApp et Chatbot
// Solution radicale pour le fixed positioning sur mobile
import WhatsAppButton from './WhatsAppButton.astro';
import Chatbot from './Chatbot.astro';
---

<div id="floating-elements-wrapper" class="floating-elements-wrapper">
  <WhatsAppButton />
  <Chatbot />
</div>

<style>
  /* WRAPPER FIXE DÉDIÉ - Solution radicale pour mobile */
  .floating-elements-wrapper {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    pointer-events: none !important; /* Permet les clics à travers */
    z-index: 9998 !important; /* En dessous du menu mobile (1001) mais au-dessus du contenu */
    overflow: visible !important; /* Pas de clipping */
    isolation: isolate !important; /* Nouveau contexte de stacking */
    -webkit-transform: translateZ(0) !important; /* Force l'accélération GPU */
    transform: translateZ(0) !important;
    will-change: transform !important;
    backface-visibility: hidden !important;
  }

  /* S'assurer que les enfants peuvent recevoir les clics */
  .floating-elements-wrapper > * {
    pointer-events: auto !important;
  }

  /* Mobile-specific fixes */
  @media (max-width: 768px) {
    .floating-elements-wrapper {
      position: fixed !important;
      /* Pas de transform sur le wrapper pour éviter les bugs mobile */
      -webkit-transform: none !important;
      transform: none !important;
    }
  }
</style>

