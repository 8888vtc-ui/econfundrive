---
import Logo from './Logo.astro';

interface Props {
  currentPage?: string;
}

const { currentPage = "" } = Astro.props;
---

<header class="site-header">
  <div class="container navbar">
    <div class="nav-brand">
      <a href="/" class="nav-brand-link" aria-label="ECOFUNDRIVE - Retour Ã  l'accueil">
        <Logo />
        <span class="brand-text">ECOFUNDRIVE</span>
      </a>
    </div>
    
    <!-- Menu Desktop -->
    <nav class="nav-links-desktop" id="nav-menu-desktop" aria-label="Navigation principale">
      <a href="/" class={currentPage === "index" ? "active" : ""} aria-current={currentPage === "index" ? "page" : undefined}>Accueil</a>
      <a href="/services" class={currentPage === "services" ? "active" : ""} aria-current={currentPage === "services" ? "page" : undefined}>Services</a>
      <a href="/a-propos" class={currentPage === "a-propos" ? "active" : ""} aria-current={currentPage === "a-propos" ? "page" : undefined}>Qui nous sommes</a>
      <a href="/contact" class={currentPage === "contact" ? "active" : ""} aria-current={currentPage === "contact" ? "page" : undefined}>Contact</a>
    </nav>
    
    <!-- Bouton Hamburger Mobile -->
    <button 
      class="nav-toggle" 
      type="button" 
      id="nav-toggle-btn"
      aria-label="Ouvrir le menu de navigation" 
      aria-expanded="false"
      aria-controls="nav-menu-mobile">
      <span class="hamburger-icon">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </button>
  </div>
  
  <!-- Overlay Mobile -->
  <div class="menu-overlay" id="menu-overlay" aria-hidden="true"></div>
  
  <!-- Menu Mobile Slide-out -->
  <nav class="nav-links-mobile" id="nav-menu-mobile" aria-label="Navigation principale mobile" role="navigation">
    <div class="mobile-menu-header">
      <div class="mobile-menu-header-content">
        <Logo />
        <span class="brand-text-mobile">ECOFUNDRIVE</span>
      </div>
      <button 
        class="mobile-menu-close" 
        id="mobile-menu-close"
        aria-label="Fermer le menu"
        type="button">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>
    <div class="mobile-menu-links">
      <a href="/" class={currentPage === "index" ? "active" : ""} aria-current={currentPage === "index" ? "page" : undefined}>Accueil</a>
      <a href="/services" class={currentPage === "services" ? "active" : ""} aria-current={currentPage === "services" ? "page" : undefined}>Services</a>
      <a href="/a-propos" class={currentPage === "a-propos" ? "active" : ""} aria-current={currentPage === "a-propos" ? "page" : undefined}>Qui nous sommes</a>
      <a href="/contact" class={currentPage === "contact" ? "active" : ""} aria-current={currentPage === "contact" ? "page" : undefined}>Contact</a>
    </div>
  </nav>
</header>
