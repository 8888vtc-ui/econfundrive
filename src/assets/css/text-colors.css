/* ============================================
   SYSTÈME COMPLET DE VISIBILITÉ TEXTE
   Fond clair = Texte noir (#1a1a1a)
   Fond foncé = Texte blanc (#ffffff)
   Contraste WCAG AA minimum : 4.5:1
   ============================================ */

/* ============================================
   RÈGLES DE BASE - FOND BLANC PAR DÉFAUT
   ============================================ */
body {
  background-color: #ffffff !important;
  color: #1a1a1a !important;
}

/* Texte par défaut sur fond blanc = noir */
main,
main p,
main h1, main h2, main h3, main h4, main h5, main h6,
main span,
main div,
main li,
section:not(.site-header):not(.site-footer):not(.chatbot-window):not(.nav-links-mobile) p,
section:not(.site-header):not(.site-footer):not(.chatbot-window):not(.nav-links-mobile) h1,
section:not(.site-header):not(.site-footer):not(.chatbot-window):not(.nav-links-mobile) h2,
section:not(.site-header):not(.site-footer):not(.chatbot-window):not(.nav-links-mobile) h3,
section:not(.site-header):not(.site-footer):not(.chatbot-window):not(.nav-links-mobile) h4,
section:not(.site-header):not(.site-footer):not(.chatbot-window):not(.nav-links-mobile) h5,
section:not(.site-header):not(.site-footer):not(.chatbot-window):not(.nav-links-mobile) h6,
article p,
article h1, article h2, article h3, article h4, article h5, article h6 {
  color: #1a1a1a !important;
}

/* Headers sur fond blanc = noir */
h1:not(.site-header h1):not(.site-footer h1):not(.chatbot-title),
h2:not(.site-header h2):not(.site-footer h2),
h3:not(.site-header h3):not(.site-footer h3),
h4:not(.site-header h4):not(.site-footer h4),
h5:not(.site-header h5):not(.site-footer h5),
h6:not(.site-header h6):not(.site-footer h6) {
  color: #1a1a1a !important;
}

/* Paragraphes sur fond blanc = noir */
p:not(.site-header p):not(.site-footer p):not(.chatbot-window p):not(.nav-links-mobile p) {
  color: #1a1a1a !important;
}

/* Liens sur fond blanc = bleu */
a:not(.site-header a):not(.site-footer a):not(.chatbot-window a):not(.nav-links-mobile a) {
  color: #0066cc !important;
}

a:not(.site-header a):not(.site-footer a):not(.chatbot-window a):not(.nav-links-mobile a):hover {
  color: #0052a3 !important;
}

/* ============================================
   EXCEPTIONS - FOND FONCÉ = TEXTE BLANC
   ============================================ */

/* HEADER (fond noir) = TEXTE BLANC */
.site-header,
.site-header *,
header.site-header,
header.site-header * {
  color: #ffffff !important;
}

.site-header a,
header.site-header a {
  color: #e0e0e0 !important;
}

.site-header a:hover,
header.site-header a:hover {
  color: #d4af37 !important;
}

/* NOM ECOFUNDRIVE - RÈGLE ULTRA-SPÉCIFIQUE */
.site-header .nav-brand-link .brand-text,
header.site-header .nav-brand-link .brand-text,
.site-header .nav-brand-link span.brand-text,
header.site-header .nav-brand-link span.brand-text,
.nav-brand-link .brand-text,
.nav-brand .brand-text {
  display: inline-block !important;
  visibility: visible !important;
  opacity: 1 !important;
  color: #ffffff !important;
  font-size: 1.1rem !important;
  font-weight: 700 !important;
  letter-spacing: 0.05em !important;
  text-transform: uppercase !important;
  white-space: nowrap !important;
  width: auto !important;
  max-width: none !important;
  height: auto !important;
  line-height: normal !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Menu mobile (fond noir) = TEXTE BLANC */
.nav-links-mobile,
.nav-links-mobile *,
.nav-links-mobile a {
  color: #ffffff !important;
}

.nav-links-mobile a:hover,
.nav-links-mobile a:focus {
  color: #d4af37 !important;
}

.brand-text-mobile {
  color: #ffffff !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  font-size: 1.1rem !important;
  font-weight: 700 !important;
  letter-spacing: 0.05em !important;
  text-transform: uppercase !important;
}

/* FOOTER (fond noir) = TEXTE BLANC */
.site-footer,
.site-footer *,
footer.site-footer,
footer.site-footer * {
  color: #e0e0e0 !important;
}

.site-footer a,
footer.site-footer a {
  color: #d4af37 !important;
}

.site-footer a:hover,
footer.site-footer a:hover {
  color: #f4e4bc !important;
}

.site-footer strong,
footer.site-footer strong {
  color: #ffffff !important;
}

/* CHATBOT (fond noir) = TEXTE BLANC */
.chatbot-window,
.chatbot-window *,
.chatbot-messages,
.chatbot-messages * {
  color: #ffffff !important;
}

.chatbot-title {
  color: #ffffff !important;
  font-weight: 700 !important;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7) !important;
}

.chatbot-message-bot .message-content,
.chatbot-message-bot .message-content *,
.chatbot-message-bot .message-content p {
  color: #ffffff !important;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7) !important;
}

.chatbot-message-user .message-content,
.chatbot-message-user .message-content *,
.chatbot-message-user .message-content p {
  color: #1a1a1a !important;
  text-shadow: none !important;
}

.chatbot-whatsapp-hint,
.chatbot-whatsapp-hint * {
  color: #ffffff !important;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7) !important;
}

.chatbot-whatsapp-hint a {
  color: #ffd700 !important;
}

/* ============================================
   CARDS ET SECTIONS
   ============================================ */

/* Cards avec fond blanc = texte noir */
.card,
.review-card,
.category-card,
.contact-form-section,
.reviews-section,
.contact-info-section {
  background: #ffffff !important;
  color: #1a1a1a !important;
}

.card *,
.review-card *,
.category-card *,
.contact-form-section *,
.reviews-section *,
.contact-info-section * {
  color: #1a1a1a !important;
}

.card h2, .card h3,
.review-card h2, .review-card h3,
.category-card h2, .category-card h3,
.contact-form-section h2, .contact-form-section h3,
.reviews-section h2, .reviews-section h3 {
  color: #1a1a1a !important;
}

/* Cards avec fond foncé = texte blanc */
.card-dark,
[class*="card"][style*="background"][style*="0a0a0a"],
[class*="card"][style*="background"][style*="1a1a1a"] {
  background: #1a1a1a !important;
  color: #ffffff !important;
}

.card-dark * {
  color: #ffffff !important;
}

/* Sections avec fond sombre = texte blanc */
.bg-dark,
.bg-dark *,
[class*="dark"]:not(.site-header):not(.site-footer),
[style*="background"][style*="0a0a0a"]:not(.site-header):not(.site-footer),
[style*="background"][style*="1a1a1a"]:not(.site-header):not(.site-footer),
[style*="background"][style*="10, 10, 10"]:not(.site-header):not(.site-footer),
[style*="background"][style*="rgba(10"]:not(.site-header):not(.site-footer),
[style*="background"][style*="rgba(26"]:not(.site-header):not(.site-footer) {
  color: #ffffff !important;
}

/* Sections avec fond clair = texte noir */
.bg-light,
.bg-white,
[class*="light"]:not(.site-header):not(.site-footer),
[class*="white"]:not(.site-header):not(.site-footer),
[style*="background"][style*="fff"]:not(.site-header):not(.site-footer),
[style*="background"][style*="ffffff"]:not(.site-header):not(.site-footer),
[style*="background"][style*="f8f9fa"]:not(.site-header):not(.site-footer),
[style*="background"][style*="e9ecef"]:not(.site-header):not(.site-footer) {
  color: #1a1a1a !important;
}

.bg-light *,
.bg-white * {
  color: #1a1a1a !important;
}

/* ============================================
   FORMULAIRES
   ============================================ */

input,
textarea,
select {
  background: #ffffff !important;
  color: #1a1a1a !important;
  border: 1px solid #e0e0e0 !important;
}

input::placeholder,
textarea::placeholder {
  color: #999999 !important;
  opacity: 1 !important;
}

label {
  color: #1a1a1a !important;
}

.form-group label {
  color: #1a1a1a !important;
}

/* Messages de formulaire */
.form-message.success {
  background: #d4edda !important;
  color: #155724 !important;
  border: 1px solid #c3e6cb !important;
}

.form-message.error {
  background: #f8d7da !important;
  color: #721c24 !important;
  border: 1px solid #f5c6cb !important;
}

/* ============================================
   BOUTONS
   ============================================ */

.btn-primary {
  background: #0066cc !important;
  color: #ffffff !important;
}

.btn-secondary {
  background: transparent !important;
  color: #0066cc !important;
  border: 2px solid #0066cc !important;
}

.btn-secondary:hover {
  background: #0066cc !important;
  color: #ffffff !important;
}

/* ============================================
   IMAGES - TOUJOURS VISIBLES
   ============================================ */

img,
picture,
source,
.hero-background-image,
.hero-image-container,
.hero-banner img,
.category-card img,
.card-image-wrapper img,
.section-image-text img {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  width: 100% !important;
  max-width: 100% !important;
}

/* ============================================
   MOBILE SPÉCIFIQUE
   ============================================ */

@media (max-width: 768px) {
  /* Fond blanc par défaut */
  body {
    background-color: #ffffff !important;
    color: #1a1a1a !important;
  }

  /* Texte sur fond blanc = noir */
  main *,
  section:not(.site-header):not(.site-footer):not(.chatbot-window):not(.nav-links-mobile) * {
    color: #1a1a1a !important;
  }

  /* Header reste blanc sur mobile */
  .site-header,
  .site-header *,
  header.site-header,
  header.site-header * {
    color: #ffffff !important;
  }

  /* NOM ECOFUNDRIVE sur mobile - ULTRA SPÉCIFIQUE */
  .site-header .nav-brand-link .brand-text,
  header.site-header .nav-brand-link .brand-text,
  .site-header .nav-brand-link span.brand-text,
  header.site-header .nav-brand-link span.brand-text,
  .nav-brand-link .brand-text,
  .nav-brand .brand-text {
    display: inline-block !important;
    visibility: visible !important;
    opacity: 1 !important;
    color: #ffffff !important;
    font-size: 1rem !important;
    font-weight: 700 !important;
    letter-spacing: 0.05em !important;
    text-transform: uppercase !important;
    white-space: nowrap !important;
    width: auto !important;
    max-width: none !important;
    height: auto !important;
    line-height: normal !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  .nav-brand-link {
    display: flex !important;
    visibility: visible !important;
    flex-direction: row !important;
    align-items: center !important;
    gap: 0.75rem !important;
    width: auto !important;
    max-width: none !important;
  }

  .nav-brand {
    display: flex !important;
    visibility: visible !important;
    flex-direction: row !important;
    align-items: center !important;
    width: auto !important;
    max-width: none !important;
    min-width: fit-content !important;
  }

  /* Images visibles sur mobile */
  img,
  picture,
  source,
  .hero-background-image,
  .hero-image-container,
  .hero-banner img,
  .category-card img,
  .card-image-wrapper img,
  .section-image-text img {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    width: 100% !important;
    max-width: 100% !important;
  }
}

/* ============================================
   CLASSES UTILITAIRES
   ============================================ */

.text-white {
  color: #ffffff !important;
}

.text-black {
  color: #1a1a1a !important;
}

.text-visible {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.bg-dark {
  background: #0a0a0a !important;
}

.bg-light {
  background: #ffffff !important;
}
